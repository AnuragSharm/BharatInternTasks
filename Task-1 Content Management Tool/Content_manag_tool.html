<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Content Management Tool for Blogging</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="jquery-ui-1.13.2/jquery-ui.css">     <!--for jquery ui css file-->
    <script src="ckeditor/ckeditor.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>   <!--for jquery-->
    <script src="jquery-ui-1.13.2/jquery-ui.js"></script>  <!--for jquery ui js file-->
    <style>
   .format{
    width: 120px;
    height: 120px;
    margin-left:5px;
    float:left;
  }     
  .thanks{
    clear: both;
    text-align: center;
  }
  .break{
    clear:both;
  }
  .para{
    text-align: center;
  }
 </style>
  
</head>
<body background="/content management tool/pexels-ann-poan-5797899.jpg">

<div class="container">
    <p class="para"><h6 class="first_head">Welcome to my</h6></p>
    <p class="para"><h3 class="second_head">Content Management Tool</h3></p>
    <p class="para"><h6 class="third_head">a place where one can do whatever he/she wants with their story or experience in their own customised way.</h6></p>
    <p class="para"><h7 class="forth_head">Make things a less boredom!!</h7></p>
</div>
<hr class="container">
<div class="fordrag" ondrop="drop(event)" ondragover="allowDrop(event)">
<section class="content_edit container">
    <p class="fifth"><h6 class="fifth" style="text-align:center;">Just Write,Edit, Modify and Make Wonders</h6></p>
    <p class="sixth"><h5 class="sixth_head">Write Your Blog here</h4></p>
   <form class="edit_blog">
      <textarea name="content" class="blog_content" id="text" style="height: 300px"></textarea>
         <script> CKEDITOR.replace('content'); </script>
         <br>
        <p class="seventh"> <label for="filenamelabel">Enter Your file Name with txt extension</label>
         <input type="text" id="filename">
        </p>  
        <input type="submit" value="Save & Download" id="saveBtn" />
        
   </form> 
  </div>
  </section>          
   <section class="imagedrag container">
    <p class="eigth"><h5 class="eigth_head">Here are some in-built images, drag them to your blog as on your preference</h5></p>
      <div class="inbuiltimages">
        
          <div class="first" id="fiimg" ondrop="drop(event)" ondragover="allowDrop(event)"><img src="mailchimp-6kajEqr84iY-unsplash.jpg" alt="not" class="format" draggable="true" ondragstart="drag(event)" id="one"></div>
          <div class="second" id="simg" ondrop="drop(event)" ondragover="allowDrop(event)"><img src="mailchimp-Hv9CS6KZayQ-unsplash.jpg" alt="not" class="format" draggable="true" ondragstart="drag(event)" id="two"></div>
          <div class="third" id="timg" ondrop="drop(event)" ondragover="allowDrop(event)"><img src="rasmus-andersen-cYkBvEpIkGM-unsplash.jpg" alt="not" class="format" draggable="true" ondragstart="drag(event)" id="three"></div>
          <div class="fourth" id="foiimg" ondrop="drop(event)" ondragover="allowDrop(event)"><img src="redd-f-Mf52OictyqY-unsplash.jpg" alt="not" class="format" draggable="true" ondragstart="drag(event)" id="four"></div>
          <div class="fifth" id="fiimg" ondrop="drop(event)" ondragover="allowDrop(event)"><img src="dave-hoefler-Ib2-XAeuUQg-unsplash.jpg" alt="not" class="format" draggable="true" ondragstart="drag(event)" id="five"></div>
          <div class="sixth" id="siimg" ondrop="drop(event)" ondragover="allowDrop(event)"><img src="erik-mclean-I1ExWltpJKg-unsplash.jpg" alt="not" class="format" draggable="true" ondragstart="drag(event)" id="six"></div>
         
    
      </div>
    </section>
    <br class="break container">
    <hr class="break container">
      <section class="ending container" >
           <div class="thanks">  
            <p><h6>Thanks for using this website</h6></p>
           </div>
      </section>

   <script>


// ...............for saving the blog
let textEle = CKEDITOR.instances.content;
let fileNameEle = document.getElementById("fileName");
let saveBtn = document.getElementById("saveBtn");

saveBtn.addEventListener("click", (e) => {
  e.preventDefault();
  alert("the file has been saved and downloaded")

  const textData = CKEDITOR.instances.content;
  const textDataBlob = new Blob([CKEDITOR.instances.content], { type: "text/plain" });

  const downloadUrl = window.URL.createObjectURL(textDataBlob)

  const downloadLink = document.createElement('a');
  downloadLink.download = document.getElementById("filename").value;
  downloadLink.href = downloadUrl;
  downloadLink.click()

  console.log(textData);
  console.log(textDataBlob);
});

  // for making the images draggable and including them in the blog.....
  function allowDrop(ev) {
  ev.preventDefault();
}

function drag(ev) {
  ev.dataTransfer.setData("image", ev.target.id);
}

function drop(ev) {
  ev.preventDefault();
  var data = ev.dataTransfer.getData("image");
  ev.target.appendChild(document.getElementById(data));
}

  // using jquery making images sync with drag and drop api.
  $("#fiimg").draggable();
  $("#simg").draggable();
  $("#timg").draggable();
  $("#foiimg").draggable();
  $("#fiimg").draggable();
  $("#siimg").draggable();
  

   </script>
   
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>


</body>
</html>